---
import Help from '@assets/home/help.svg?raw';

interface Props {
  label: string;
  placeholder?: string;
  id: string;
  error?: string;
  required?: boolean;
  helperText?: string;
  options: string[];
}

const { id, label, options, placeholder, required, helperText } = Astro.props;
---

<div class="w-full">
  <div class="flex flex-row !gap-x-[0.5rem] align-middle">
    <label
      class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
      for={id}
    >
      {label}
    </label>
    {
      helperText && (
        <span data-tooltip={helperText}>
          <Fragment set:html={Help} />
        </span>
      )
    }
  </div>

  <div class="relative">
    <select
      name={id}
      required={required}
      class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
      id={id}
    >
      <option value="" disabled selected>
        {placeholder}
      </option>
      {options.map((option) => <option value={option}>{option}</option>)}
    </select>
    <div
      class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
    >
      <svg
        class="fill-current h-4 w-4"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        ><path
          d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"
        ></path></svg
      >
    </div>
  </div>
</div>
